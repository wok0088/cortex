# ====================================================================
# Engrama 环境变量配置模板
# 使用方法：复制本文件并重命名为 `.env`，然后填入真实的密钥与环境参数。
# 注意：切勿将包含真实密码的 `.env` 提交到版本库！
# ====================================================================

# ----------------------------------------------------------
# 核心安全 (必需)
# ----------------------------------------------------------
# 生产环境必须设置管理员 Token，否则无法调用 /channels 系列接口
ENGRAMA_ADMIN_TOKEN=your_super_secret_token_here

# ----------------------------------------------------------
# PostgreSQL 数据库配置 (必需)
# ----------------------------------------------------------
# 连接 URI 格式：postgresql://用户名:密码@主机名:端口/数据库名
ENGRAMA_DB_TYPE=postgres
ENGRAMA_PG_URI=postgresql://agent_admin:your_db_password@localhost:5432/long_term_memory

# ----------------------------------------------------------
# Qdrant 向量数据库配置 (必需)
# ----------------------------------------------------------
ENGRAMA_QDRANT_HOST=localhost
ENGRAMA_QDRANT_PORT=6333
# 如果你的 Qdrant 没有开启鉴权，可留空
ENGRAMA_QDRANT_API_KEY=your_qdrant_api_key

# ----------------------------------------------------------
# TEI Embedding 引擎配置 (必需)
# ----------------------------------------------------------
# Text Embeddings Inference 服务地址 (默认为 docker-compose.tei.yml 暴露的 8080)
ENGRAMA_EMBEDDING_API_URL=http://localhost:8080
# 必须与 TEI Docker 环境中配置的 API_KEY 保持一致
ENGRAMA_EMBEDDING_API_KEY=your_tei_api_key

# ----------------------------------------------------------
# 高级服务配置 (可选)
# ----------------------------------------------------------
# 数据目录（用于临时文件或其他非结构化缓存存储）
# ENGRAMA_DATA_DIR=./data

# Redis 缓存连接 (如果需要分布式限流或高速缓存)
ENGRAMA_REDIS_URL=redis://localhost:6379/0

# 速率限制：每分钟请求上限。0 或留空代表不限制
ENGRAMA_RATE_LIMIT=0

# 允许跨域请求的来源。逗号分隔，如 "http://localhost:3000,https://example.com"。开发期可用 "*"
ENGRAMA_CORS_ORIGINS=*

# 日志级别: DEBUG, INFO, WARNING, ERROR
ENGRAMA_LOG_LEVEL=INFO
